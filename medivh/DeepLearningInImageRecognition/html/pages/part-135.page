<div id="pf87" class="pf w0 h0" data-page-no="87"><div class="pc pc87 w0 h0"><img class="bi x82 y6f0 w4 h40" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA2cAAAOWCAIAAADk532OAAAACXBIWXMAABYlAAAWJQFJUiTwAAAOZ0lEQVR42u3bsQ2FMAxAwRhl/6UQC7CQf/eFlECokCB3pelcPcUiMrM0IqIAAPB13RTsWiwLAADVCACAagQA4BFx/5gNAMC0vDUCADBWu1P/UAMAzOD+2dmFGgCAMRdqAABUIwAAqhEAANUIAIBqBABANQIAoBoBAFCNAACgGgEAUI0AAKhGAABUIwAAqhEAANUIAIBqBABANQIAgGoEAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAAFQjAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABQjQAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAAKoRAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACoRgAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBANQIAoBoBAFCNAACoRgAAVCMAAKoRAADVCACAagQAANUIAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKhGAABUIwAAqhEAANUIAIBqBABANQIAoBoBAFCNAACgGgEAUI0AAKhGAABUIwAAqhEAANUIAIBqBABANQIAgGoEAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAAFQjAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABQjQAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAAKoRAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFCNAACoRgAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBANQIAoBoBAFCNAACoRgAAVCMAAKoRAADVCACAagQAANUIAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKhGAABUIwAAqhEAANUIAIBqBABANQIAoBoBAFCNAACgGgEAUI0AAKhGAABUIwAAqhEAANUIAIBqBAAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAAFQjAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABQjQAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAAKoRAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFCNAACoRgAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBANQIAoBoBAFCNAACoRgAAVCMAAKoRAADVCACAagQAANUIAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKhGAABUIwAAqhEAANUIAIBqBABANQIAoBoBAFCNAACgGgEAUI0AAKhGAABUIwAAqhEAANUIAIBqBAAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAAFQjAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAAKoRAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFCNAACoRgAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBANQIAoBoBAFCNAACoRgAAVCMAAKoRAADVCAAAqhEAANUIAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKhGAABUIwAAqhEAANUIAIBqBABANQIAoBoBAFCNAACgGgEAUI0AAKhGAABUIwAAqhEAANUIAIBqBAAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAAFQjAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAAKoRAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFCNAACoRgAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBANQIAoBoBAFCNAACoRgAAVCMAAKoRAADVCAAAqhEAANUIAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKhGAABUIwAAqhEAANUIAIBqBABANQIAoBoBAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAANUIAIBqBAAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAAFQjAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFCNAACoRgAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBANQIAoBoBAFCNAACoRgAAVCMAAKoRAADVCAAAqhEAANUIAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKhGAABUIwAAqhEAANUIAIBqBABANQIAoBoBAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAANUIAIBqBAAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAAFQjAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFCNAACoRgAAVCMAAKoRAADVCACAagQAQDUCAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKoRAADVCAAAqhEAANUIAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKhGAABUIwAAqhEAANUIAIBqBABANQIAoBoBAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAANUIAIBqBAAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABUIwAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFCNAACoRgAAVCMAAKoRAADVCACAagQAQDUCAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKoRAADVCAAAqhEAANUIAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKhGAABUIwAAqhEAANUIAIBqBABANQIAoBoBAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAANUIAIBqBAAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABUIwAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAgGoEAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFCNAACoRgAAVCMAAKoRAADVCACAagQAQDUCAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKoRAADVCAAAqhEAANUIAIBqBABANQIAoBoBAFCNAACoRgAAUI0AAKhGAABUIwAAqhEAANUIAIBqBABANQIAoBoBAEA1AgCgGgEAUI0AAKhGAABUIwAA7xVWAADAUWa2w3r2AQCACUX0XxVdqAEAGFONAACoRgAAVCMAAM+oVgAAwNG27u3QWyMAAGOqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABUIwAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAgGoEAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBQjQAAoBoBAFCNAACoRgAAVCMAAKoRAADVCACAagQAQDUCAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKoRAADVCAAAqhEAANUIAIBqBABANQIAoBoBAFCNAACoRgAAUI0AAKhGAABUIwAAqhEAANUIAIBqBABANQIAoBoBAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAANUIAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABUIwAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAgGoEAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBQjQAAoBoBAFCNAACoRgAAVCMAAKoRAADVCACAagQAQDUCAIBqBABANQIAoBoBAFCNAACoRgAAVCMAAKoRAABUIwAAqhEAANUIAIBqBABANQIAoBoBAFCNAACoRgAAUI0AAKhGAABUIwAAqhEAANUIAIBqBABANQIAoBoBAEA1AgCgGgEAUI0AAKhGAABUIwAAqhEAANUIAACqEQAA1QgAgGoEAEA1AgCgGgEAUI0AAKhGAABUIwAAqEYAAFQjAACqEQAA1QgAgGoEAEA1AgCgGgEAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAA1QgAgGoEAADVCACAagQAQDUCAKAaAQBQjQAAqEYAAFQjAACqEQAAVCMAAKoRAADVCACAagQAQDUCAKAaAQBQjQAAoBoBAFCNAACoRgAAVCMAAKoRAADVCACAagQAQDUCAMCZWkqJCIsAAOBCZGY73dbdagAA+HOhBgBANQIAoBoBAFCNAACoRgAAVCMAAF/yA8tyI9ikxRfHAAAAAElFTkSuQmCC"/><div class="t m0 x8 h9 ye ff2 fs6 fc0 sc0 ls0 ws0">哈尔滨工业大学本科毕业设计（论文）</div><div class="t m0 xa9 ha y1b ff1 fs7 fc0 sc0 ls0 ws0">附录<span class="_ _c"> </span><span class="ff3">B<span class="_ _27"> </span></span>卷积神经网络源代码</div><div class="t m0 xa h2 y1c ff2 fs1 fc0 sc0 ls0 ws0">在<span class="_ _14"></span>本附<span class="_ _14"></span>录<span class="_ _14"></span>中<span class="_ _14"></span>给<span class="_ _14"></span>出<span class="ff3">CIF<span class="_ _5"></span>AR<span class="ff2">中<span class="_ _14"></span>使<span class="_ _14"></span>用的<span class="_ _14"></span>卷<span class="_ _14"></span>积<span class="_ _14"></span>神<span class="_ _14"></span>经<span class="_ _14"></span>网络<span class="_ _14"></span>源<span class="_ _14"></span>代<span class="_ _14"></span>码，<span class="_ _14"></span>由于</span>MNIST<span class="ff2">源<span class="_ _14"></span>代<span class="_ _14"></span>码<span class="_ _14"></span>与</span></span></div><div class="t m0 x7 h2 y1d ff2 fs1 fc0 sc0 ls0 ws0">这里<span class="_ _14"></span>类似，<span class="_ _14"></span>只是<span class="_ _14"></span>构造<span class="_ _14"></span>器有<span class="_ _14"></span>略<span class="_ _14"></span>微的<span class="_ _14"></span>不同，<span class="_ _14"></span>因此<span class="_ _14"></span>我们<span class="_ _14"></span>不打<span class="_ _14"></span>算提<span class="_ _14"></span>供<span class="ff3">MNIST</span>中卷<span class="_ _14"></span>积网<span class="_ _14"></span>络的</div><div class="t m0 x7 h2 y1e ff2 fs1 fc0 sc0 ls0 ws0">代码，<span class="_ _16"></span>读者可经过很少的改动便可将以下的代码改写成训练<span class="ff3">MNIST</span>数据集的代码。</div><div class="t m0 x7 h2 y1f ff2 fs1 fc0 sc0 ls0 ws0">在这几个文<span class="_ _14"></span>件中，<span class="ff3">Main.py</span>是整个程序的入口。<span class="_ _14"></span><span class="ff3">CIF<span class="_ _5"></span>AR.py<span class="ff2">是工具文件，它提供<span class="_ _14"></span>获取</span></span></div><div class="t m0 x7 h2 y20 ff2 fs1 fc0 sc0 ls0 ws0">数据集以<span class="_ _14"></span>及绘制图<span class="_ _14"></span>像的功能。<span class="ff3">FormatLayer<span class="_ _15"></span>.py<span class="ff2">是最顶层特<span class="_ _14"></span>征图展开成<span class="_ _14"></span>列向量所<span class="_ _14"></span>经过</span></span></div><div class="t m0 x7 h2 y21 ff2 fs1 fc0 sc0 ls0 ws0">的<span class="_ _14"></span>一<span class="_ _14"></span>个<span class="_ _14"></span>格<span class="_ _14"></span>式<span class="_ _14"></span>转<span class="_ _14"></span>化<span class="_ _14"></span>层。<span class="ff3">CNNs.py</span>是<span class="_ _14"></span>整<span class="_ _14"></span>个<span class="_ _14"></span>卷<span class="_ _14"></span>积<span class="_ _14"></span>网<span class="_ _14"></span>络<span class="_ _14"></span>的<span class="_ _14"></span>类<span class="_ _14"></span>文<span class="_ _14"></span>件，它<span class="_ _14"></span>能<span class="_ _14"></span>实<span class="_ _14"></span>现<span class="_ _14"></span>网<span class="_ _14"></span>络<span class="_ _14"></span>的<span class="_ _14"></span>前<span class="_ _14"></span>向<span class="_ _14"></span>传</div><div class="t m0 x7 h2 y22 ff2 fs1 fc0 sc0 ls0 ws0">播和反<span class="_ _14"></span>向传播。<span class="_ _14"></span><span class="ff3">SubsamplingLayer<span class="_ _15"></span>.py<span class="ff2">是采样<span class="_ _14"></span>层类文<span class="_ _14"></span>件。</span>Con<span class="_ _15"></span>vLayer<span class="_ _15"></span>.py<span class="ff2">是卷<span class="_ _14"></span>积层类<span class="_ _14"></span>文</span></span></div><div class="t m0 x7 h2 y23 ff2 fs1 fc0 sc0 ls0 ws0">件。<span class="ff3">FullConnectLayer<span class="_ _15"></span>.py<span class="ff2">是全连接层的<span class="_ _14"></span>类文件。可以看到，<span class="_ _14"></span>整个网络的代码<span class="_ _14"></span>已经被</span></span></div><div class="t m0 x7 h2 y24 ff2 fs1 fc0 sc0 ls0 ws0">我们<span class="_ _14"></span>写<span class="_ _14"></span>成紧<span class="_ _14"></span>耦合<span class="_ _14"></span>的了，<span class="_ _14"></span>我们<span class="_ _14"></span>没<span class="_ _14"></span>有时<span class="_ _14"></span>间将<span class="_ _14"></span>这<span class="_ _14"></span>些代<span class="_ _14"></span>码写<span class="_ _14"></span>成松<span class="_ _14"></span>耦<span class="_ _14"></span>合形<span class="_ _14"></span>式，有<span class="_ _14"></span>兴趣<span class="_ _14"></span>的读<span class="_ _14"></span>者</div><div class="t m0 x7 h2 y25 ff2 fs1 fc0 sc0 ls0 ws0">可进<span class="_ _14"></span>行<span class="_ _14"></span>尝试。<span class="_ _14"></span>另外，<span class="_ _14"></span>鉴<span class="_ _14"></span>于版<span class="_ _14"></span>面的<span class="_ _14"></span>问<span class="_ _14"></span>题，我<span class="_ _14"></span>们对<span class="_ _14"></span>代<span class="_ _14"></span>码的<span class="_ _14"></span>格<span class="_ _14"></span>式进<span class="_ _14"></span>行了<span class="_ _14"></span>调<span class="_ _14"></span>整，因<span class="_ _14"></span>此直<span class="_ _14"></span>接</div><div class="t m0 x7 h2 y26 ff2 fs1 fc0 sc0 ls0 ws0">拷贝<span class="_ _14"></span>这<span class="_ _14"></span>些代<span class="_ _14"></span>码是<span class="_ _14"></span>不会<span class="_ _14"></span>执<span class="_ _14"></span>行的，<span class="_ _14"></span>你需<span class="_ _14"></span>要再<span class="_ _14"></span>重<span class="_ _14"></span>新调<span class="_ _14"></span>整他<span class="_ _14"></span>们的<span class="_ _14"></span>格<span class="_ _14"></span>式。我<span class="_ _14"></span>们对<span class="_ _14"></span>数据<span class="_ _14"></span>集进<span class="_ _14"></span>行</div><div class="t m0 x7 h2 y27 ff2 fs1 fc0 sc0 ls0 ws0">了镜<span class="_ _14"></span>像<span class="_ _14"></span>处理，<span class="_ _14"></span>因此<span class="_ _14"></span>我<span class="_ _14"></span>们总<span class="_ _14"></span>共有<span class="ff3">10</span>个<span class="_ _14"></span>批<span class="_ _14"></span>次的<span class="_ _14"></span>数<span class="_ _14"></span>据集，<span class="_ _14"></span>进行<span class="_ _14"></span>图<span class="_ _14"></span>像镜<span class="_ _14"></span>像仅<span class="_ _14"></span>仅<span class="_ _14"></span>只是<span class="_ _14"></span>将矩<span class="_ _14"></span>阵</div><div class="t m0 x7 h2 y28 ff2 fs1 fc0 sc0 ls0 ws0">翻转，很容易实现，所以在这里我们就不贴代码了。</div><div class="t m0 xd5 h16 yf15 ff2 fsb fc0 sc0 ls0 ws0">代码<span class="_ _1f"> </span><span class="ff3">B.1<span class="_ _32"> </span>FormatLayer<span class="_ _15"></span>.py</span></div><div class="t m0 x113 h12 yf16 ff3 fs1 fc0 sc0 ls0 ws0">1<span class="_ _8c"> </span><span class="ff5">f<span class="_ _12"></span>r<span class="_ _3"></span>o<span class="_ _12"></span>m<span class="_ _28"> </span></span>CN<span class="_ _16"></span>Ns<span class="_ _25"> </span><span class="ff5">i<span class="_ _3"></span>m<span class="_ _13"></span>p<span class="_ _3"></span>o<span class="_ _13"> </span>r<span class="_ _13"></span>t<span class="_ _27"> </span><span class="ff8">∗</span></span></div><div class="t m0 x113 hd yf17 ff3 fs1 fc0 sc0 ls0 ws0">2<span class="_ _22"> </span>c<span class="_ _13"></span>n<span class="_ _3"></span>n<span class="_ _25"> </span><span class="ff6">=<span class="_ _1e"> </span></span>CNN<span class="_ _15"></span>s<span class="_ _26"> </span>(<span class="_ _1a"> </span>l<span class="_ _26"> </span>o<span class="_ _26"> </span>a<span class="_ _26"> </span>d<span class="_ _26"> </span><span class="ff6">=<span class="_ _26"> </span></span>F<span class="_ _26"> </span>a<span class="_ _1"> </span>l<span class="_ _26"> </span>s<span class="_ _1"> </span>e<span class="_ _1a"> </span>)</div><div class="t m0 x113 hd yf18 ff3 fs1 fc0 sc0 ls0 ws0">3<span class="_ _22"> </span>c<span class="_ _13"></span>n<span class="_ _3"></span>n<span class="_ _1c"> </span>.<span class="_ _c"> </span>t<span class="_ _1"> </span>r<span class="_ _1f"> </span>a<span class="_ _17"> </span>i<span class="_ _17"> </span>n<span class="_ _c"> </span>(<span class="_ _17"> </span>)</div><div class="t m0 x113 hd yee6 ff3 fs1 fc0 sc0 ls0 ws0">4<span class="_ _8a"> </span>c<span class="_ _1"> </span>o<span class="_ _1"> </span>r<span class="_ _1"> </span>r<span class="_ _1"> </span>e<span class="_ _1"> </span>c<span class="_ _17"> </span>t<span class="_ _1"> </span>R<span class="_ _1"> </span>a<span class="_ _1"> </span>t<span class="_ _1"> </span>e<span class="_ _27"> </span><span class="ff6">=<span class="_ _25"> </span></span>c<span class="_ _13"></span>n<span class="_ _3"></span>n<span class="_ _1c"> </span>.<span class="_ _1b"> </span>t<span class="_ _1f"> </span>e<span class="_ _17"> </span>s<span class="_ _17"> </span>t<span class="_ _17"> </span>i<span class="_ _1f"> </span>n<span class="_ _17"> </span>g<span class="_ _c"> </span>(<span class="_ _1"> </span>)</div><div class="t m0 x113 he yee7 ff3 fs1 fc0 sc0 ls0 ws0">5<span class="_ _89"> </span><span class="ff5">p<span class="_ _26"> </span>r<span class="_ _26"> </span>i<span class="_ _26"> </span>n<span class="_ _26"> </span>t<span class="_ _22"> </span></span>c<span class="_ _17"> </span>o<span class="_ _1"> </span>r<span class="_ _1"> </span>r<span class="_ _1"> </span>e<span class="_ _1"> </span>c<span class="_ _1"> </span>t<span class="_ _1"> </span>R<span class="_ _1"> </span>a<span class="_ _1"> </span>t<span class="_ _17"> </span>e</div><div class="t m0 xb7 hb y1a ff3 fs6 fc0 sc0 ls0 ws0">-<span class="_ _17"> </span>127<span class="_ _17"> </span>-</div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
